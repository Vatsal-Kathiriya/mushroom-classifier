<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mushroom Classifier Dashboard</title>
    
    <!-- Modern CSS Libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js and D3.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Custom Styling -->
    <style>
        :root {
            --primary: #8B4513;
            --primary-light: #8a5d3e;
            --primary-dark: #5D3A14;
            --accent: #E98A3C;
            --background: #F8F5F2;
            --card-bg: #FFFFFF;
            --text: #333333;
            --edible: #4CAF50;
            --poisonous: #F44336;
            --warning: #FF9800;
            --header-height: 60px;
            --sidebar-width: 250px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            background-image: url('{{ url_for("static", filename="img/mushroom-pattern-light.png") }}');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
        }

        .dashboard-container {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr;
            grid-template-areas:
                "sidebar header"
                "sidebar main";
            min-height: 100vh;
        }

        /* Header */
        .header {
            grid-area: header;
            background-color: var(--card-bg);
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            z-index: 10;
        }

        .header .page-title {
            font-weight: 600;
            color: var(--primary);
        }

        .header .user-menu {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        /* Sidebar */
        .sidebar {
            grid-area: sidebar;
            background-color: var(--primary-dark);
            color: white;
            padding: 20px 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 20;
            transition: all 0.3s;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 20px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
            margin-right: 10px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text {
            font-weight: 600;
            font-size: 1.2rem;
            color: white;
            margin: 0;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-item {
            margin-bottom: 5px;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
        }

        .sidebar-link:hover,
        .sidebar-link.active {
            background-color: rgba(255,255,255,0.1);
            color: white;
            border-left: 4px solid var(--accent);
        }

        .sidebar-link i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            grid-area: main;
            padding: 20px;
            overflow-y: auto;
            height: calc(100vh - var(--header-height));
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Stats Cards */
        .stat-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-card .stat-icon {
            width: 50px;
            height: 50px;
            background-color: rgba(139, 69, 19, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .stat-card .stat-icon i {
            color: var(--primary);
            font-size: 24px;
        }

        .stat-card .stat-label {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .stat-card .stat-value {
            font-weight: 600;
            font-size: 1.5rem;
            margin-bottom: 0;
        }

        .stat-card.edible .stat-icon {
            background-color: rgba(76, 175, 80, 0.1);
        }

        .stat-card.edible .stat-icon i {
            color: var(--edible);
        }

        .stat-card.poisonous .stat-icon {
            background-color: rgba(244, 67, 54, 0.1);
        }

        .stat-card.poisonous .stat-icon i {
            color: var(--poisonous);
        }

        /* Chart Cards */
        .chart-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }

        .chart-card .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .chart-card .chart-title {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Classifier Interface */
        .classifier-interface {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .feature-form {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: white;
        }

        .prediction-result {
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .prediction-result.edible {
            background-color: rgba(76, 175, 80, 0.1);
            border-left: 5px solid var(--edible);
        }

        .prediction-result.poisonous {
            background-color: rgba(244, 67, 54, 0.1);
            border-left: 5px solid var(--poisonous);
        }

        .prediction-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .prediction-icon {
            width: 60px;
            height: 60px;
            margin-right: 15px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .prediction-result.edible .prediction-icon {
            background-color: var(--edible);
            color: white;
        }

        .prediction-result.poisonous .prediction-icon {
            background-color: var(--poisonous);
            color: white;
        }

        .prediction-content h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .confidence {
            display: inline-block;
            padding: 4px 12px;
            background-color: rgba(255,255,255,0.5);
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Feature Importance Table */
        .feature-importance-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .feature-importance-table th, 
        .feature-importance-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .feature-importance-table th {
            text-align: left;
            font-weight: 600;
            color: #555;
        }

        .feature-bar {
            height: 8px;
            background-color: var(--primary-light);
            border-radius: 4px;
        }

        .feature-importance-table tr:hover {
            background-color: rgba(0,0,0,0.02);
        }

        /* Safety Warning */
        .safety-warning {
            background-color: rgba(255, 152, 0, 0.1);
            border-left: 5px solid var(--warning);
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            display: flex;
            align-items: center;
        }

        .safety-warning i {
            color: var(--warning);
            font-size: 24px;
            margin-right: 15px;
        }

        .safety-warning p {
            margin: 0;
            font-weight: 500;
        }

        /* Buttons */
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            padding: 8px 16px;
            border-radius: 5px;
            color: white;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: #6c757d;
            border-color: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
            border-color: #545b62;
        }

        /* Hidden sections */
        .section-hidden {
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .dashboard-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "header"
                    "main";
            }
            
            .sidebar {
                position: fixed;
                left: -100%;
                transition: left 0.3s ease;
                z-index: 1000;
            }
            
            .sidebar.active {
                left: 0;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .feature-form {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
            margin: 0;
        }

        .sidebar-nav {
            padding: 1rem 0;
        }

        .nav-item {
            margin: 0.25rem 1rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.1);
            color: white;
            transform: translateX(5px);
        }

        .nav-link.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow);
        }

        .nav-link i {
            width: 20px;
            margin-right: 0.75rem;
            font-size: 1.1rem;
        }

        /* Main Content */
        .main-content {
            margin-left: 0;
            min-height: 100vh;
            transition: margin-left 0.3s ease;
        }

        .main-content.sidebar-active {
            margin-left: 280px;
        }

        /* Top Navigation */
        .top-nav {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .nav-brand i {
            margin-right: 0.5rem;
            font-size: 1.75rem;
        }

        .sidebar-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--primary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
        }

        .sidebar-toggle:hover {
            background: rgba(46,125,50,0.1);
            transform: scale(1.1);
        }

        /* Dashboard Header */
        .dashboard-header {
            background: var(--gradient-primary);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: 20px 20px;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-20px); }
        }

        .dashboard-header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .dashboard-header p {
            font-size: 1.25rem;
            opacity: 0.9;
            margin: 0;
        }

        /* Stats Cards */
        .stats-row {
            margin-top: -2rem;
            position: relative;
            z-index: 10;
        }

        .stats-card {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stats-card.danger::before {
            background: var(--gradient-danger);
        }

        .stats-card.warning::before {
            background: linear-gradient(135deg, #F57C00 0%, #FF9800 100%);
        }

        .stats-card.info::before {
            background: linear-gradient(135deg, #1976D2 0%, #2196F3 100%);
        }

        .stats-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: block;
        }

        .stats-card.danger .stats-value {
            color: var(--danger);
        }

        .stats-card.warning .stats-value {
            color: var(--warning);
        }

        .stats-card.info .stats-value {
            color: var(--info);
        }

        .stats-label {
            font-size: 1rem;
            color: #666;
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .stats-sublabel {
            font-size: 0.875rem;
            color: #999;
        }

        /* Chart Containers */
        .chart-container {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .chart-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .chart-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .chart-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--dark);
            margin: 0;
        }

        .chart-controls {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .chart-controls select,
        .chart-controls button {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background: white;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .chart-controls select:focus,
        .chart-controls button:hover {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46,125,50,0.1);
        }

        .chart-controls button {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            cursor: pointer;
        }

        .chart-controls button:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        /* Canvas styling */
        .chart-canvas {
            position: relative;
            height: 400px;
            margin: 1rem 0;
        }

        .chart-canvas.large {
            height: 500px;
        }

        /* Interactive Elements */
        .interactive-panel {
            background: white;
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .feature-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46,125,50,0.1);
            outline: none;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-danger {
            background: var(--gradient-danger);
            color: white;
            box-shadow: var(--shadow);
        }

        .btn-outline-primary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline-primary:hover {
            background: var(--primary);
            color: white;
        }

        /* Prediction Results */
        .prediction-result {
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            margin-top: 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .prediction-result.edible {
            background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%);
            border: 2px solid var(--success);
        }

        .prediction-result.poisonous {
            background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
            border: 2px solid var(--danger);
        }

        .prediction-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .prediction-result.edible .prediction-icon {
            color: var(--success);
        }

        .prediction-result.poisonous .prediction-icon {
            color: var(--danger);
        }

        .prediction-text {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .prediction-confidence {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }

        .prediction-warning {
            background: rgba(255,193,7,0.1);
            border: 1px solid #FFC107;
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-top: 1rem;
            font-weight: 500;
        }

        /* Data Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .data-table th,
        .data-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        .data-table th {
            background: var(--light);
            font-weight: 600;
            color: var(--dark);
        }

        .data-table tr:hover {
            background: rgba(46,125,50,0.05);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                transform: translateX(-100%);
            }
            
            .main-content.sidebar-active {
                margin-left: 0;
            }
            
            .dashboard-header h1 {
                font-size: 2rem;
            }
            
            .stats-card {
                margin-bottom: 1rem;
            }
            
            .chart-container {
                padding: 1rem;
            }
            
            .feature-selector {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-slide-in {
            animation: slideIn 0.6s ease-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Loading States */
        .loading {
            position: relative;
            pointer-events: none;
        }

        .loading::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.8);
            border-radius: inherit;
            z-index: 10;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            margin: -20px 0 0 -20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 11;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Tooltips */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            font-size: 0.875rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        .tooltip:hover::before {
            opacity: 1;
        }

        /* Modal Enhancements */
        .modal-content {
            border-radius: var(--border-radius-lg);
            border: none;
            box-shadow: var(--shadow-lg);
        }

        .modal-header {
            background: var(--gradient-primary);
            color: white;
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        }

        .modal-header .btn-close {
            filter: invert(1);
        }

        /* Custom Scrollbars */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Feature Importance Styles */
        .feature-importance-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 0.5rem;
            background: white;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }

        .feature-importance-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow);
        }

        .feature-importance-bar {
            height: 8px;
            background: var(--gradient-primary);
            border-radius: 4px;
            margin: 0.5rem 0;
            transition: width 0.8s ease;
        }

        .feature-importance-value {
            font-weight: 600;
            color: var(--primary);
            margin-left: auto;
        }

        /* Safety Warning */
        .safety-warning {
            background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
            border: 2px solid #FF9800;
            border-radius: var(--border-radius-lg);
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .safety-warning .fas {
            font-size: 3rem;
            color: #FF9800;
            margin-bottom: 1rem;
        }

        .safety-warning h3 {
            color: #F57C00;
            margin-bottom: 1rem;
        }

        .safety-warning p {
            color: #E65100;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-img">
                    <i class="fas fa-seedling"></i>
                </div>
                <h3 class="logo-text">Mushroom AI</h3>
            </div>
        
        <nav class="sidebar-nav">
            <ul class="sidebar-menu">
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link active" onclick="showSection('overview')">
                        <i class="fas fa-chart-line"></i>
                        Overview
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" onclick="showSection('classifier')">
                        <i class="fas fa-brain"></i>
                        AI Classifier
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" onclick="showSection('visualizations')">
                        <i class="fas fa-chart-pie"></i>
                        Visualizations
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" onclick="showSection('feature-analysis')">
                        <i class="fas fa-cogs"></i>
                        Feature Analysis
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" onclick="showSection('model-insights')">
                        <i class="fas fa-robot"></i>
                        Model Insights
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" onclick="showSection('dataset')">
                        <i class="fas fa-database"></i>
                        Dataset
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" onclick="showSection('safety')">
                        <i class="fas fa-shield-alt"></i>
                        Safety Guide
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <header class="header">
            <button class="btn btn-outline-primary d-md-none" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
            <h1 class="page-title">🍄 Mushroom Classification Dashboard</h1>
            <div class="user-menu">
                <button class="btn btn-outline-primary" onclick="exportData()">
                    <i class="fas fa-download me-1"></i> Export
                </button>
                <button class="btn btn-primary" onclick="window.location.href='{{ url_for('about') }}'">
                    <i class="fas fa-info-circle me-1"></i> About
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content">

        <!-- Stats Cards -->
        <div class="container-fluid">
            <div class="row stats-row">
                <div class="col-md-3 mb-4">
                    <div class="stats-card animate-slide-in">
                        <div class="stats-value" id="totalSamples">61,069</div>
                        <div class="stats-label">Total Samples</div>
                        <div class="stats-sublabel">Secondary Mushroom Dataset</div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="stats-card animate-slide-in">
                        <div class="stats-value" id="edibleSamples">27,181</div>
                        <div class="stats-label">Edible Mushrooms</div>
                        <div class="stats-sublabel">44.5% of dataset</div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="stats-card danger animate-slide-in">
                        <div class="stats-value" id="poisonousSamples">33,888</div>
                        <div class="stats-label">Poisonous Mushrooms</div>
                        <div class="stats-sublabel">55.5% of dataset</div>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="stats-card info animate-slide-in">
                        <div class="stats-value" id="modelAccuracy">96.5%</div>
                        <div class="stats-label">Model Accuracy</div>
                        <div class="stats-sublabel">Best performing model</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Overview Section -->
        <div class="container-fluid" id="overview">
            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Class Distribution</h2>
                            <div class="chart-controls">
                                <select id="chartType" onchange="updateClassDistribution()">
                                    <option value="doughnut">Doughnut Chart</option>
                                    <option value="pie">Pie Chart</option>
                                    <option value="bar">Bar Chart</option>
                                </select>
                                <button onclick="animateChart('classDistributionChart')">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="classDistributionChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Model Performance</h2>
                            <div class="chart-controls">
                                <select id="metricSelect" onchange="updatePerformanceChart()">
                                    <option value="accuracy">Accuracy</option>
                                    <option value="precision">Precision</option>
                                    <option value="recall">Recall</option>
                                    <option value="f1">F1 Score</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Classifier Section -->
        <div class="container-fluid" id="classifier" style="display: none;">
            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="interactive-panel">
                        <h2>Interactive Mushroom Classifier</h2>
                        <p>Select mushroom characteristics to get an AI prediction</p>
                        
                        <form id="classifierForm">
                            <div class="feature-selector">
                                <div class="form-group">
                                    <label class="form-label">Cap Shape</label>
                                    <select class="form-control" name="cap-shape" required>
                                        <option value="">Select cap shape</option>
                                        <option value="b">Bell</option>
                                        <option value="c">Conical</option>
                                        <option value="x">Convex</option>
                                        <option value="f">Flat</option>
                                        <option value="s">Sunken</option>
                                        <option value="p">Spherical</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Cap Color</label>
                                    <select class="form-control" name="cap-color" required>
                                        <option value="">Select cap color</option>
                                        <option value="n">Brown</option>
                                        <option value="b">Buff</option>
                                        <option value="g">Gray</option>
                                        <option value="r">Green</option>
                                        <option value="p">Pink</option>
                                        <option value="u">Purple</option>
                                        <option value="e">Red</option>
                                        <option value="w">White</option>
                                        <option value="y">Yellow</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Gill Color</label>
                                    <select class="form-control" name="gill-color" required>
                                        <option value="">Select gill color</option>
                                        <option value="n">Brown</option>
                                        <option value="b">Buff</option>
                                        <option value="g">Gray</option>
                                        <option value="p">Pink</option>
                                        <option value="u">Purple</option>
                                        <option value="e">Red</option>
                                        <option value="w">White</option>
                                        <option value="y">Yellow</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Habitat</label>
                                    <select class="form-control" name="habitat" required>
                                        <option value="">Select habitat</option>
                                        <option value="g">Grasses</option>
                                        <option value="l">Leaves</option>
                                        <option value="m">Meadows</option>
                                        <option value="p">Paths</option>
                                        <option value="h">Heaths</option>
                                        <option value="u">Urban</option>
                                        <option value="w">Waste</option>
                                        <option value="d">Woods</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Bruises or Bleeds</label>
                                    <select class="form-control" name="does-bruise-or-bleed" required>
                                        <option value="">Select option</option>
                                        <option value="t">Yes</option>
                                        <option value="f">No</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Season</label>
                                    <select class="form-control" name="season" required>
                                        <option value="">Select season</option>
                                        <option value="s">Spring</option>
                                        <option value="u">Summer</option>
                                        <option value="a">Autumn</option>
                                        <option value="w">Winter</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-microscope"></i>
                                Classify Mushroom
                            </button>
                        </form>
                        
                        <div id="predictionResult"></div>
                    </div>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Feature Importance</h2>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="featureImportanceChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Visualizations Section -->
        <div class="container-fluid" id="visualizations" style="display: none;">
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Feature Correlations</h2>
                            <div class="chart-controls">
                                <button onclick="toggleCorrelationType()">
                                    <i class="fas fa-sync"></i>
                                    Toggle View
                                </button>
                            </div>
                        </div>
                        <div class="chart-canvas large">
                            <canvas id="correlationChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Feature Distributions</h2>
                            <div class="chart-controls">
                                <select id="featureSelect" onchange="updateFeatureDistribution()">
                                    <option value="cap-color">Cap Color</option>
                                    <option value="gill-color">Gill Color</option>
                                    <option value="habitat">Habitat</option>
                                    <option value="season">Season</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="featureDistributionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-lg-12 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Model Comparison</h2>
                            <div class="chart-controls">
                                <select id="modelMetric" onchange="updateModelComparison()">
                                    <option value="accuracy">Accuracy</option>
                                    <option value="precision">Precision</option>
                                    <option value="recall">Recall</option>
                                    <option value="f1">F1 Score</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="modelComparisonChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature Analysis Section -->
        <div class="container-fluid" id="feature-analysis" style="display: none;">
            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="interactive-panel">
                        <h2>Feature Importance Analysis</h2>
                        
                        <div class="feature-importance-list" id="featureImportanceList">
                            <!-- Features will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Permutation Importance</h2>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="permutationChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Model Insights Section -->
        <div class="container-fluid" id="model-insights" style="display: none;">
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Confusion Matrix</h2>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="confusionMatrixChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-6 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">ROC Curve</h2>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="rocCurveChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-lg-12 mb-4">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h2 class="chart-title">Learning Curve</h2>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="learningCurveChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dataset Section -->
        <div class="container-fluid" id="dataset" style="display: none;">
            <div class="row">
                <div class="col-lg-12 mb-4">
                    <div class="interactive-panel">
                        <h2>Dataset Information</h2>
                        
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <h3>Source</h3>
                                <p>UCI Machine Learning Repository - Secondary Mushroom Dataset</p>
                                <p><strong>Author:</strong> Dennis Wagner, Philipps-University Marburg</p>
                                <p><strong>Total Samples:</strong> 61,069 synthetic mushroom samples</p>
                                <p><strong>Features:</strong> 20 (17 categorical, 3 numerical)</p>
                            </div>
                            <div class="col-md-6">
                                <h3>Dataset Statistics</h3>
                                <table class="data-table">
                                    <tr>
                                        <th>Metric</th>
                                        <th>Value</th>
                                    </tr>
                                    <tr>
                                        <td>Total Samples</td>
                                        <td>61,069</td>
                                    </tr>
                                    <tr>
                                        <td>Edible Samples</td>
                                        <td>27,181 (44.5%)</td>
                                    </tr>
                                    <tr>
                                        <td>Poisonous Samples</td>
                                        <td>33,888 (55.5%)</td>
                                    </tr>
                                    <tr>
                                        <td>Features</td>
                                        <td>20</td>
                                    </tr>
                                    <tr>
                                        <td>Missing Values</td>
                                        <td>Yes (varies by feature)</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Safety Section -->
        <div class="container-fluid" id="safety" style="display: none;">
            <div class="row">
                <div class="col-lg-12 mb-4">
                    <div class="safety-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>IMPORTANT SAFETY NOTICE</h3>
                        <p><strong>This tool is for educational purposes only.</strong> Never consume wild mushrooms based solely on classifications from this or any other automated system. Many toxic mushrooms closely resemble edible species, and misidentification can result in serious illness or death.</p>
                        <p><strong>Always consult with mycology experts and multiple field guides for positive identification.</strong></p>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="interactive-panel">
                        <h2>Field Identification Tips</h2>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <strong>Spore Print:</strong> Place cap on paper overnight to observe spore color
                            </li>
                            <li class="list-group-item">
                                <strong>Odor:</strong> Smell the mushroom carefully - foul odors often indicate toxicity
                            </li>
                            <li class="list-group-item">
                                <strong>Gill Color:</strong> Observe the color of gills under the cap
                            </li>
                            <li class="list-group-item">
                                <strong>Habitat:</strong> Note where the mushroom is growing
                            </li>
                            <li class="list-group-item">
                                <strong>Season:</strong> Consider the time of year when found
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-lg-6 mb-4">
                    <div class="interactive-panel">
                        <h2>Safety Guidelines</h2>
                        <ul class="list-group">
                            <li class="list-group-item text-danger">
                                <strong>Never eat wild mushrooms without expert identification</strong>
                            </li>
                            <li class="list-group-item">
                                Use multiple field guides and expert consultation
                            </li>
                            <li class="list-group-item">
                                When in doubt, throw it out
                            </li>
                            <li class="list-group-item">
                                Learn from experienced foragers
                            </li>
                            <li class="list-group-item">
                                Start with easily identifiable species
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Pass dashboard data from Flask to JavaScript
        window.dashboardData = {
            datasetInfo: {{ dataset_info | tojson if dataset_info else '{}' }},
            modelMetrics: {{ model_metrics | tojson if model_metrics else '{}' }},
            featureStats: {{ feature_stats | tojson if feature_stats else '{}' }},
            vizData: {{ viz_data | tojson if viz_data else '{}' }},
            featureOptions: {{ feature_options | tojson if feature_options else '{}' }},
            keyFeatures: {{ key_features | tojson if key_features else '[]' }},
            modelType: '{{ model_type if model_type else "Unknown" }}'
        };
    </script>
    
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
    
    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            window.mushroomDashboard = new MushroomDashboard();
        });
    </script>
</body>
</html>
